{"ast":null,"code":"import _regeneratorRuntime from \"/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nvar rootUrl = \"http://localhost:3001/v1/\";\nvar ticketUlr = \"http://localhost:3001/v1/ticket/\";\nvar closeTicketUrl = \"http://localhost:3001/v1/ticket/close-ticket/63595545b88ae9813953a1c2\";\nexport var getAllTickets = function getAllTickets() {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get('http://localhost:3001/v1/ticket', {\n                headers: {\n                  authorization: sessionStorage.getItem('accessJWT')\n                }\n              });\n            case 3:\n              results = _context.sent;\n              resolve(results);\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n\n  //eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImphY2tzb25nZW9yZ2UxOTk4QGdtYWlsLmNvbSIsImlhdCI6MTY2NTczODYxMywiZXhwIjoxNjY5NjI2NjEzfQ.Nv8kTlZVTgzDf3HK5e5YpNlhG4W7i1GPh2_Aec4Zb7s\n};\n\nexport var getSingleTicket = function getSingleTicket(id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.get(ticketUlr + id, {\n                headers: {\n                  Authorization: sessionStorage.getItem(\"accessJWT\")\n                }\n              });\n            case 3:\n              result = _context2.sent;\n              resolve(result);\n              _context2.next = 11;\n              break;\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0.message);\n              reject(_context2.t0);\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\nexport var updateReplyTicket = function updateReplyTicket(id, msgObj) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resolve, reject) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return axios.put(ticketUlr + id, msgObj, {\n                headers: {\n                  Authorization: sessionStorage.getItem(\"accessJWT\")\n                }\n              });\n            case 3:\n              result = _context3.sent;\n              resolve(result.data);\n              _context3.next = 11;\n              break;\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0.message);\n              reject(_context3.t0);\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n};\nexport var updateTicketStatusClosed = function updateTicketStatusClosed(_id) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(resolve, reject) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return axios.patch(closeTicketUrl + _id, {}, {\n                headers: {\n                  Authorization: sessionStorage.getItem(\"accessJWT\")\n                }\n              });\n            case 3:\n              result = _context4.sent;\n              resolve(result.data);\n              _context4.next = 11;\n              break;\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.log(_context4.t0.message);\n              reject(_context4.t0);\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n    return function (_x7, _x8) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\n// export const createNewTicket = (frmData) => {\n//   console.log(\"from api\", frmData);\n//   return new Promise(async (resolve, reject) => {\n//     try {\n//       const result = await axios.post(ticketUlr, frmData, {\n//         headers: {\n//           Authorization: sessionStorage.getItem(\"accessJWT\"),\n//         },\n//       });\n\n//       resolve(result.data);\n//     } catch (error) {\n//       console.log(error.message);\n//       reject(error);\n//     }\n//   });\n// };","map":{"version":3,"names":["axios","rootUrl","ticketUlr","closeTicketUrl","getAllTickets","Promise","resolve","reject","get","headers","authorization","sessionStorage","getItem","results","getSingleTicket","id","Authorization","result","console","log","message","updateReplyTicket","msgObj","put","data","updateTicketStatusClosed","_id","patch"],"sources":["/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/src/api/ticketApi.js"],"sourcesContent":["import axios from \"axios\";\n\nconst rootUrl = \"http://localhost:3001/v1/\";\n\n\nconst ticketUlr= \"http://localhost:3001/v1/ticket/\"\n\nconst closeTicketUrl =\"http://localhost:3001/v1/ticket/close-ticket/63595545b88ae9813953a1c2\"\n\nexport const  getAllTickets = ()=>{\n\n    return new Promise (async(resolve,reject)=>{\n\n        try {\n\n      const results=  await axios.get('http://localhost:3001/v1/ticket',\n        { headers:{\n   \n          authorization: sessionStorage.getItem('accessJWT')\n        }})\n\n        resolve(results)\n\n    } catch (error) {\n\n        reject(error)\n    \n    }\n    })\n    \n  \n    //eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImphY2tzb25nZW9yZ2UxOTk4QGdtYWlsLmNvbSIsImlhdCI6MTY2NTczODYxMywiZXhwIjoxNjY5NjI2NjEzfQ.Nv8kTlZVTgzDf3HK5e5YpNlhG4W7i1GPh2_Aec4Zb7s\n\n}\n\n\nexport const getSingleTicket = (id) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.get(ticketUlr+id, {\n        headers: {\n          Authorization: sessionStorage.getItem(\"accessJWT\"),\n        },\n      });\n\n      resolve(result);\n    } catch (error) {\n      console.log(error.message);\n      reject(error);\n    }\n  });\n};\n\nexport const updateReplyTicket = (id, msgObj) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.put(ticketUlr + id, msgObj, {\n        headers: {\n          Authorization: sessionStorage.getItem(\"accessJWT\"),\n        },\n      });\n\n      resolve(result.data);\n    } catch (error) {\n      console.log(error.message);\n      reject(error);\n    }\n  });\n};\n\nexport const updateTicketStatusClosed = (_id) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.patch(\n        closeTicketUrl + _id,\n        {},\n        {\n          headers: {\n            Authorization: sessionStorage.getItem(\"accessJWT\"),\n          },\n        }\n      );\n\n      resolve(result.data);\n    } catch (error) {\n      console.log(error.message);\n      reject(error);\n    }\n  });\n};\n\n// export const createNewTicket = (frmData) => {\n//   console.log(\"from api\", frmData);\n//   return new Promise(async (resolve, reject) => {\n//     try {\n//       const result = await axios.post(ticketUlr, frmData, {\n//         headers: {\n//           Authorization: sessionStorage.getItem(\"accessJWT\"),\n//         },\n//       });\n\n//       resolve(result.data);\n//     } catch (error) {\n//       console.log(error.message);\n//       reject(error);\n//     }\n//   });\n// };"],"mappings":"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"},"metadata":{},"sourceType":"module"}