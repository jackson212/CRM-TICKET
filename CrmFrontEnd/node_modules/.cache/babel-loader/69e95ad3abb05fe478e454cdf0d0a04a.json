{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/src/page/ticket/ticket.page.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, Row, Col, Button, Spinner, Alert } from \"react-bootstrap\";\nimport { PageBreadcrumb } from \"../../components/breadcrumb/Breadcrumb.comp\";\nimport { MessageHistory } from \"../../components/message-history/MessageHistory.comp\";\nimport { UpdateTicket } from \"../../components/update-ticket/UpdateTicket.comp\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchsingleTickets, closeTicket } from \"../../page/ticket-listing/TicketAction\";\nimport { resetResponseMsg } from \"../ticket-listing/ticketSlice\";\nexport var Ticket = function Ticket() {\n  var _useParams = useParams(),\n    tId = _useParams.tId;\n  var dispatch = useDispatch();\n  var _useSelector = useSelector(function (state) {\n      return state.tickets;\n    }),\n    isLoading = _useSelector.isLoading,\n    error = _useSelector.error,\n    selectedTicket = _useSelector.selectedTicket,\n    replyMsg = _useSelector.replyMsg,\n    replyTicketError = _useSelector.replyTicketError;\n  useEffect(function () {\n    dispatch(fetchsingleTickets(tId));\n    return function () {\n      (replyMsg || replyTicketError) && dispatch(resetResponseMsg());\n    };\n  }, [tId, dispatch, replyMsg, replyTicketError]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageBreadcrumb, {\n    page: \"Ticket\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(Spinner, {\n    variant: \"primary\",\n    animation: \"border\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 20\n    }\n  }), error && /*#__PURE__*/React.createElement(Alert, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }\n  }, error), replyTicketError && /*#__PURE__*/React.createElement(Alert, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, replyTicketError), replyMsg && /*#__PURE__*/React.createElement(Alert, {\n    variant: \"success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, replyMsg))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"text-weight-bolder text-secondary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"subject\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 6\n    }\n  }, \"Subject: \", selectedTicket.subject), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }, \"Ticket Opened:\", \" \", selectedTicket.openAt && new Date(selectedTicket.openAt).toLocaleString()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"status\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 6\n    }\n  }, \"Status: \", selectedTicket.status)), /*#__PURE__*/React.createElement(Col, {\n    className: \"text-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-info\",\n    onClick: function onClick() {\n      return dispatch(closeTicket(tId));\n    },\n    disabled: selectedTicket.status === \"Closed\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }\n  }, \"Close Ticket\"))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, selectedTicket.conversation && /*#__PURE__*/React.createElement(MessageHistory, {\n    msg: selectedTicket.conversation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(UpdateTicket, {\n    _id: tId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 6\n    }\n  }))));\n};","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Container","Row","Col","Button","Spinner","Alert","PageBreadcrumb","MessageHistory","UpdateTicket","useParams","fetchsingleTickets","closeTicket","resetResponseMsg","Ticket","tId","dispatch","state","tickets","isLoading","error","selectedTicket","replyMsg","replyTicketError","subject","openAt","Date","toLocaleString","status","conversation"],"sources":["/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/src/page/ticket/ticket.page.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, Row, Col, Button, Spinner, Alert } from \"react-bootstrap\";\nimport { PageBreadcrumb } from \"../../components/breadcrumb/Breadcrumb.comp\";\nimport { MessageHistory } from \"../../components/message-history/MessageHistory.comp\";\nimport { UpdateTicket } from \"../../components/update-ticket/UpdateTicket.comp\";\nimport { useParams } from \"react-router-dom\";\n\nimport { fetchsingleTickets, closeTicket } from \"../../page/ticket-listing/TicketAction\";\nimport { resetResponseMsg } from \"../ticket-listing/ticketSlice\";\n\nexport const Ticket = () => {\n\tconst { tId } = useParams();\n\tconst dispatch = useDispatch();\n\tconst {\n\t\tisLoading,                              \n\t\terror,                             \n\t\tselectedTicket,                     \n\t\treplyMsg,                       \n\t\treplyTicketError,                    \n\t} = useSelector(state => state.tickets);\n\n\tuseEffect(() => {\n\t\tdispatch(fetchsingleTickets(tId));\n\n\t\treturn () => {\n\t\t\t(replyMsg || replyTicketError) && dispatch(resetResponseMsg());\n\t\t};\n\t}, [tId, dispatch, replyMsg, replyTicketError]);\n\n\treturn (\n\t\t<Container>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<PageBreadcrumb page=\"Ticket\" />\n\t\t\t\t</Col>\n\t\t\t</Row>\n\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t{isLoading && <Spinner variant=\"primary\" animation=\"border\" />}\n\t\t\t\t\t{error && <Alert variant=\"danger\">{error}</Alert>}\n\t\t\t\t\t{replyTicketError && (\n\t\t\t\t\t\t<Alert variant=\"danger\">{replyTicketError}</Alert>\n\t\t\t\t\t)}\n\t\t\t\t\t{replyMsg && <Alert variant=\"success\">{replyMsg}</Alert>}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col className=\"text-weight-bolder text-secondary\">\n\t\t\t\t\t<div className=\"subject\">Subject: {selectedTicket.subject}</div>\n\t\t\t\t\t<div className=\"date\">\n\t\t\t\t\t\tTicket Opened:{\" \"}\n\t\t\t\t\t\t{selectedTicket.openAt &&\n\t\t\t\t\t\t\tnew Date(selectedTicket.openAt).toLocaleString()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"status\">Status: {selectedTicket.status}</div>\n\t\t\t\t</Col>\n\t\t\t\t<Col className=\"text-right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outline-info\"\n\t\t\t\t\t\tonClick={() => dispatch(closeTicket(tId))}\n\t\t\t\t\t\tdisabled={selectedTicket.status === \"Closed\"}\n\t\t\t\t\t>\n\t\t\t\t\t\tClose Ticket\n\t\t\t\t\t</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mt-4\">\n\t\t\t\t<Col>\n\t\t\t\t\t{selectedTicket.conversation && (\n\t\t\t\t\t\t<MessageHistory msg={selectedTicket.conversation} />\n\t\t\t\t\t)}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<hr />\n\n\t\t\t<Row className=\"mt-4\">\n\t\t\t\t<Col>\n\t\t\t\t\t<UpdateTicket _id={tId} />\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n};"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,EAAEC,OAAO,EAAEC,KAAK,QAAQ,iBAAiB;AAC7E,SAASC,cAAc,QAAQ,6CAA6C;AAC5E,SAASC,cAAc,QAAQ,sDAAsD;AACrF,SAASC,YAAY,QAAQ,kDAAkD;AAC/E,SAASC,SAAS,QAAQ,kBAAkB;AAE5C,SAASC,kBAAkB,EAAEC,WAAW,QAAQ,wCAAwC;AACxF,SAASC,gBAAgB,QAAQ,+BAA+B;AAEhE,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAM,GAAS;EAAA,iBACXJ,SAAS,EAAE;IAAnBK,GAAG,cAAHA,GAAG;EACX,IAAMC,QAAQ,GAAGjB,WAAW,EAAE;EAAC,mBAO3BC,WAAW,CAAC,UAAAiB,KAAK;MAAA,OAAIA,KAAK,CAACC,OAAO;IAAA,EAAC;IALtCC,SAAS,gBAATA,SAAS;IACTC,KAAK,gBAALA,KAAK;IACLC,cAAc,gBAAdA,cAAc;IACdC,QAAQ,gBAARA,QAAQ;IACRC,gBAAgB,gBAAhBA,gBAAgB;EAGjBzB,SAAS,CAAC,YAAM;IACfkB,QAAQ,CAACL,kBAAkB,CAACI,GAAG,CAAC,CAAC;IAEjC,OAAO,YAAM;MACZ,CAACO,QAAQ,IAAIC,gBAAgB,KAAKP,QAAQ,CAACH,gBAAgB,EAAE,CAAC;IAC/D,CAAC;EACF,CAAC,EAAE,CAACE,GAAG,EAAEC,QAAQ,EAAEM,QAAQ,EAAEC,gBAAgB,CAAC,CAAC;EAE/C,oBACC,oBAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACT,oBAAC,GAAG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACH,oBAAC,GAAG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACH,oBAAC,cAAc;IAAC,IAAI,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAC3B,CACD,eAEN,oBAAC,GAAG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACH,oBAAC,GAAG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACFJ,SAAS,iBAAI,oBAAC,OAAO;IAAC,OAAO,EAAC,SAAS;IAAC,SAAS,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,EAC7DC,KAAK,iBAAI,oBAAC,KAAK;IAAC,OAAO,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAEA,KAAK,CAAS,EAChDG,gBAAgB,iBAChB,oBAAC,KAAK;IAAC,OAAO,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAEA,gBAAgB,CACzC,EACAD,QAAQ,iBAAI,oBAAC,KAAK;IAAC,OAAO,EAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAEA,QAAQ,CAAS,CACnD,CACD,eACN,oBAAC,GAAG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACH,oBAAC,GAAG;IAAC,SAAS,EAAC,mCAAmC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACjD;IAAK,SAAS,EAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAAWD,cAAc,CAACG,OAAO,CAAO,eAChE;IAAK,SAAS,EAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,qBACL,GAAG,EACjBH,cAAc,CAACI,MAAM,IACrB,IAAIC,IAAI,CAACL,cAAc,CAACI,MAAM,CAAC,CAACE,cAAc,EAAE,CAC5C,eACN;IAAK,SAAS,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,eAAUN,cAAc,CAACO,MAAM,CAAO,CACxD,eACN,oBAAC,GAAG;IAAC,SAAS,EAAC,YAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC1B,oBAAC,MAAM;IACN,OAAO,EAAC,cAAc;IACtB,OAAO,EAAE;MAAA,OAAMZ,QAAQ,CAACJ,WAAW,CAACG,GAAG,CAAC,CAAC;IAAA,CAAC;IAC1C,QAAQ,EAAEM,cAAc,CAACO,MAAM,KAAK,QAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBAGrC,CACJ,CACD,eACN,oBAAC,GAAG;IAAC,SAAS,EAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACpB,oBAAC,GAAG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACFP,cAAc,CAACQ,YAAY,iBAC3B,oBAAC,cAAc;IAAC,GAAG,EAAER,cAAc,CAACQ,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACjD,CACI,CACD,eACN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAM,eAEN,oBAAC,GAAG;IAAC,SAAS,EAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACpB,oBAAC,GAAG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACH,oBAAC,YAAY;IAAC,GAAG,EAAEd,GAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACrB,CACD,CACK;AAEd,CAAC"},"metadata":{},"sourceType":"module"}