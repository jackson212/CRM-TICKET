{"ast":null,"code":"import _regeneratorRuntime from \"/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/src/component/login/Login.comp.js\";\nimport React from 'react';\nimport { useState } from 'react';\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userLogin } from '../../api/userApi';\nimport { loginPending, loginSuccess, loginFail } from './loginSlice';\nimport { getUserProfile } from \"../../page/dashboard/userAction\";\nimport { useNavigate } from 'react-router-dom';\nexport var Login = function Login(_ref) {\n  var loadonn = _ref.loadonn;\n  var dispatch = useDispatch();\n  var navigate = useNavigate();\n  var _useSelector = useSelector(function (state) {\n      return state.login;\n    }),\n    isLoading = _useSelector.isLoading,\n    isAuth = _useSelector.isAuth,\n    error = _useSelector.error;\n  var _useState = useState(\"jacksongeorge1998@gmail.com\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"majicpot\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var handleOnchange = function handleOnchange(e) {\n    var _e$target = e.target,\n      name = _e$target.name,\n      value = _e$target.value;\n    switch (name) {\n      case \"email\":\n        setEmail(value);\n        break;\n      case \"password\":\n        setPassword(value);\n        break;\n    }\n  };\n  var handleOnsubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var _isAuth;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              if (!(!email || !password)) {\n                _context.next = 3;\n                break;\n              }\n              return _context.abrupt(\"return\", alert(\"fill up all the form\"));\n            case 3:\n              dispatch(loginPending());\n              _context.prev = 4;\n              _context.next = 7;\n              return userLogin({\n                email: email,\n                password: password\n              });\n            case 7:\n              _isAuth = _context.sent;\n              console.log(_isAuth);\n              if (_isAuth.status == 'not good') {\n                console.log(\"working\");\n                dispatch(loginFail(_isAuth.message));\n              }\n              dispatch(loginSuccess());\n              dispatch(getUserProfile());\n              navigate('/dashboard');\n              _context.next = 18;\n              break;\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](4);\n              dispatch(loginFail(_context.t0.message));\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[4, 15]]);\n    }));\n    return function handleOnsubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Client Login\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleOnsubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: handleOnchange,\n    placeholder: \"enter email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, \"Passwords\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: handleOnchange,\n    placeholder: \"Enter Password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, \"Login\")))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    onClick: function onClick() {\n      return loadonn('reset');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 14\n    }\n  }, \"forget password\"))));\n};","map":{"version":3,"names":["React","useState","Container","Row","Col","Form","Button","useDispatch","useSelector","userLogin","loginPending","loginSuccess","loginFail","getUserProfile","useNavigate","Login","loadonn","dispatch","navigate","state","login","isLoading","isAuth","error","email","setEmail","password","setPassword","handleOnchange","e","target","name","value","handleOnsubmit","preventDefault","alert","console","log","status","message"],"sources":["/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/src/component/login/Login.comp.js"],"sourcesContent":["import React from 'react'\nimport {useState} from 'react'\nimport { Container,Row,Col,Form ,Button} from 'react-bootstrap'\n\nimport {  useDispatch,useSelector } from 'react-redux'\n\nimport {userLogin} from '../../api/userApi'\n\nimport { loginPending, loginSuccess, loginFail } from './loginSlice'\n\nimport {getUserProfile} from \"../../page/dashboard/userAction\"\n\nimport { useNavigate } from 'react-router-dom';\n\n\n\nexport const Login = ({loadonn}) => {\n\n  const  dispatch= useDispatch()\n\n  const navigate = useNavigate();\n\n  const {isLoading,isAuth,error}=useSelector(state=>state.login)\n\n  const [email,setEmail]=useState(\"jacksongeorge1998@gmail.com\")\n  const [password,setPassword]=useState(\"majicpot\")\n  \n \n\n\n  \n\n  const handleOnchange=e=>{\n\n     const {name,value}=e.target;\n\n      switch(name){\n\n        case \"email\":\n          setEmail(value);\n          break;\n        case \"password\":\n          setPassword(value);\n          break;\n\n\n      }\n\n}\n\n\n\n\n\n\nconst handleOnsubmit= async(e)=>{\n\n   e.preventDefault();\n\n   if(!email|| !password){\n\n  return alert(\"fill up all the form\")\n   }\n\n   dispatch(loginPending() )\n\n   try {\n\n   const isAuth= await userLogin({ email, password })\n\n   console.log(isAuth)\n\n   if(isAuth.status=='not good'){\n\n    console.log(\"working\")\n\n   dispatch(loginFail( isAuth.message))\n\n   }\n   dispatch(loginSuccess())\n   \n   dispatch(getUserProfile())\n\n   navigate('/dashboard');\n   \n   } catch (error) {\n\n    dispatch(loginFail(error.message))\n    \n   }\n\n   \n};\n  return (\n    \n  \n\n\n    <Container>\n\n      <Row>\n          <Col>\n            <h1 className=\"text-center\">Client Login</h1>\n            <br/>\n            <Form onSubmit={handleOnsubmit}>\n               <Form.Group>\n                  <Form.Label>Email Address</Form.Label>\n                  <Form.Control\n                  type=\"email\"\n                  name=\"email\"\n                  value={email}\n                  onChange={handleOnchange}\n                  \n                  placeholder=\"enter email\"\n                  \n                  \n                  />\n\n\n               </Form.Group>\n               <br/>\n               <Form.Group>\n                  <Form.Label>Passwords</Form.Label>\n                  <Form.Control\n                  type=\"password\"\n                  name=\"password\"\n                  value={password}\n                  onChange={handleOnchange}\n                  \n                  \n                  placeholder=\"Enter Password\"\n                  \n                  \n                  />\n\n\n               </Form.Group>\n                <br/>\n                <Button type =\"submit\">Login</Button>\n\n            </Form>\n\n          </Col>\n\n      </Row>\n      <Row>\n          <Col>\n             <a href =\"#\"  onClick={()=> loadonn('reset')}>forget password</a>         \n          </Col>\n      </Row>\n    </Container>\n   \n  );\n};\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}