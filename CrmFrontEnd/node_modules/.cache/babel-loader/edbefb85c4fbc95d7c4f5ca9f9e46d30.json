{"ast":null,"code":"import _regeneratorRuntime from \"/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nvar loginUrl = 'http://localhost:3001/v1/user/login';\nexport var userLogin = function userLogin(frmData) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post(loginUrl, frmData);\n            case 3:\n              res = _context.sent;\n              resolve(res.data);\n              if (res.data.status === \"success\") {\n                sessionStorage.setItem(\"accessJWT\", res.data.accessJWT);\n                localStorage.setItem(\"crmSite\", JSON.stringify({\n                  refreshJWT: res.data.refreshJWT\n                }));\n              }\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};","map":{"version":3,"names":["axios","loginUrl","userLogin","frmData","Promise","resolve","reject","post","res","data","status","sessionStorage","setItem","accessJWT","localStorage","JSON","stringify","refreshJWT"],"sources":["/home/jackson/Desktop/crm-ticket/crm-ticket/CrmFrontEnd/src/api/userLogin.js"],"sourcesContent":["import axios from \"axios\";\n\n\nconst loginUrl ='http://localhost:3001/v1/user/login'\n\nexport const userLogin = (frmData) => {\n    return new Promise(async (resolve, reject) => {\n      try {\n        const res = await axios.post(loginUrl, frmData);\n  \n        resolve(res.data);\n  \n        if (res.data.status === \"success\") {\n          sessionStorage.setItem(\"accessJWT\", res.data.accessJWT);\n          localStorage.setItem(\n            \"crmSite\",\n            JSON.stringify({ refreshJWT: res.data.refreshJWT })\n          );\n        }\n      } catch (error) {\n        reject(error);\n      }\n    });\n  };\n  "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,IAAMC,QAAQ,GAAE,qCAAqC;AAErD,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAS,CAAIC,OAAO,EAAK;EAClC,OAAO,IAAIC,OAAO;IAAA,oEAAC,iBAAOC,OAAO,EAAEC,MAAM;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAEnBN,KAAK,CAACO,IAAI,CAACN,QAAQ,EAAEE,OAAO,CAAC;YAAA;cAAzCK,GAAG;cAETH,OAAO,CAACG,GAAG,CAACC,IAAI,CAAC;cAEjB,IAAID,GAAG,CAACC,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;gBACjCC,cAAc,CAACC,OAAO,CAAC,WAAW,EAAEJ,GAAG,CAACC,IAAI,CAACI,SAAS,CAAC;gBACvDC,YAAY,CAACF,OAAO,CAClB,SAAS,EACTG,IAAI,CAACC,SAAS,CAAC;kBAAEC,UAAU,EAAET,GAAG,CAACC,IAAI,CAACQ;gBAAW,CAAC,CAAC,CACpD;cACH;cAAC;cAAA;YAAA;cAAA;cAAA;cAEDX,MAAM,aAAO;YAAC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAEjB;IAAA;MAAA;IAAA;EAAA,IAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module"}